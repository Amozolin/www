<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Assignment 3: Primitives, Conditionals, and Dispatch</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="extra.css" title="default"/><link rel="stylesheet" type="text/css" href="fancyverb.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="accessibility.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">CMSC 430:<span class="mywbr"> &nbsp;</span> Design and Implementation of Programming Languages</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="Schedule.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="Notes.html" class="tocviewlink" data-pltdoc="x">Notes</a></td></tr><tr><td align="right"></td><td><a href="Assignments.html" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right"></td><td><a href="Midterms.html" class="tocviewlink" data-pltdoc="x">Midterms</a></td></tr><tr><td align="right"></td><td><a href="Project.html" class="tocviewlink" data-pltdoc="x">Project</a></td></tr><tr><td align="right"></td><td><a href="Software.html" class="tocviewlink" data-pltdoc="x">Software</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="Assignment_1.html" class="tocviewlink" data-pltdoc="x">Assignment 1:<span class="mywbr"> &nbsp;</span> Learning about Programming Languages</a></td></tr><tr><td align="right"></td><td><a href="Assignment_2.html" class="tocviewlink" data-pltdoc="x">Assignment 2:<span class="mywbr"> &nbsp;</span> Racket Primer</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Assignment 3:<span class="mywbr"> &nbsp;</span> Primitives, Conditionals, and Dispatch</a></td></tr><tr><td align="right"></td><td><a href="Assignment_4.html" class="tocviewlink" data-pltdoc="x">Assignment 4:<span class="mywbr"> &nbsp;</span> Let there be (Many) Variables</a></td></tr><tr><td align="right"></td><td><a href="Assignment_5.html" class="tocviewlink" data-pltdoc="x">Assignment 5:<span class="mywbr"> &nbsp;</span> Arity Checking, Rest Arguments, and Case Functions</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Assignment 3:<span class="mywbr"> &nbsp;</span> Primitives, Conditionals, and Dispatch</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._a3-._.More_primitives%29" class="tocviewlink" data-pltdoc="x">More primitives</a></td></tr><tr><td align="right"></td><td><a href="#%28part._a3-._.Conditional_.Evaluation_with_.Cond%29" class="tocviewlink" data-pltdoc="x">Conditional Evaluation with Cond</a></td></tr><tr><td align="right"></td><td><a href="#%28part._a3-._.Dispatching_.Evaluation_with_.Case%29" class="tocviewlink" data-pltdoc="x">Dispatching Evaluation with Case</a></td></tr><tr><td align="right"></td><td><a href="#%28part._a3-._parse%29" class="tocviewlink" data-pltdoc="x">A Leg Up on Parsing</a></td></tr><tr><td align="right"></td><td><a href="#%28part._a3-._.Testing%29" class="tocviewlink" data-pltdoc="x">Testing</a></td></tr><tr><td align="right"></td><td><a href="#%28part._a3-._.Submitting%29" class="tocviewlink" data-pltdoc="x">Submitting</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._.More_primitives%29" class="tocsubseclink" data-pltdoc="x">More primitives</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._.Conditional_.Evaluation_with_.Cond%29" class="tocsubseclink" data-pltdoc="x">Conditional Evaluation with Cond</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._.Dispatching_.Evaluation_with_.Case%29" class="tocsubseclink" data-pltdoc="x">Dispatching Evaluation with Case</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._parse%29" class="tocsubseclink" data-pltdoc="x">A Leg Up on Parsing</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._.Testing%29" class="tocsubseclink" data-pltdoc="x">Testing</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._a3-._.Submitting%29" class="tocsubseclink" data-pltdoc="x">Submitting</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.0</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Assignment_2.html" title="backward to &quot;Assignment 2: Racket Primer&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Assignment_4.html" title="forward to &quot;Assignment 4: Let there be (Many) Variables&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._.Assignment._3)"></a>Assignment 3: Primitives, Conditionals, and Dispatch</h4><p><span style="font-weight: bold">Due: Thu, Sept 30, 11:59PM</span></p><p>The goal of this assignment is to extend the parser, interpreter, and
compiler with some simple unary numeric and boolean operations and two
forms of control flow expressions: <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>-expressions and
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>-expressions.</p><p>You are given a zip file on ELMS with a starter compiler based on the
Dupe language we studied in class.  You are tasked with extending the
language in a number of ways:</p><ul><li><p>adding new primitive operations,</p></li><li><p>adding <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>, and</p></li><li><p>adding <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>.</p></li></ul><p>You may use any a86 instructions you&rsquo;d like, however it is possible to
complete the assignment using <span class="RktSym">Cmp</span>, <span class="RktSym">Je</span>, <span class="RktSym">Jg</span>,
<span class="RktSym">Jmp</span>, <span class="RktSym">Label</span>, <span class="RktSym">Mov</span>, and <span class="RktSym">Sub</span>.</p><h5><a name="(part._a3-._.More_primitives)"></a>More primitives</h5><p>Add the following forms of expression to the language:</p><ul><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._abs%29%29" class="RktValLink" data-pltdoc="x">abs</a></span><span class="stt"> </span><span class="RktVar">e</span><span class="RktPn">)</span>: compute the absolute value of <span class="RktVar">e</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktVar">e</span><span class="RktPn">)</span>: flips the sign of <span class="RktVar">e</span>, i.e. compute <span style="font-style: italic"></span>0<span style="font-style: italic">-</span><span class="RktVar">e</span>, and</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="stt"> </span><span class="RktVar">e</span><span class="RktPn">)</span>: compute the logical negation of <span class="RktVar">e</span>; note that the negation of <span class="emph">any</span> value other than <span class="RktVal">#f</span> is <span class="RktVal">#f</span> and the negation of <span class="RktVal">#f</span> is <span class="RktVal">#t</span>.</p></li></ul><p>There are many ways to implement these at the assembly level. You should try implementing
these using the limited a86 instruction set.</p><p><div class="SIntrapara">To do this, you should:
</div><div class="SIntrapara"><ul><li><p>Study <span class="stt">ast.rkt</span> and the new forms of expression (i.e. new AST nodes)
then update the comment at the top describing what the grammmar should look like.</p></li><li><p>Study <span class="stt">parse.rkt</span> and add support for parsing these
expressions. (See <a href="#%28part._a3-._parse%29" data-pltdoc="x">A Leg Up on Parsing</a> for guidance.)</p></li><li><p>Update <span class="stt">interp-prim.rkt</span> and <span class="stt">interp.rkt</span> to correctly interpret these expressions.</p></li><li><p>Make examples of these primitives and potential translations of them
to assembly.</p></li><li><p>Update <span class="stt">compile.rkt</span> to correctly compile these expressions.</p></li><li><p>Check your implementation by running the tests in <span class="stt">test/all.rkt</span>.</p></li></ul></div></p><h5><a name="(part._a3-._.Conditional_.Evaluation_with_.Cond)"></a>Conditional Evaluation with Cond</h5><p>The Dupe language we studied included a simple form of performing
conditional evaluation of sub-expressions:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e0</span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span></p></blockquote><p>However, in the original paper on Lisp,
<a href="http://jmc.stanford.edu/articles/recursive.html"><span class="emph">Recursive
Functions of Symbolic Expressions and Their Computation by Machine,
Part I</span></a>, John McCarthy introduced a generalization of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28quote._~23~25kernel%29._if%29%29" class="RktStxLink" data-pltdoc="x">if</a></span>
called &ldquo;conditional expressions,&rdquo; which we could add to our
language with the following syntax:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktVar">e-p1</span><span class="hspace">&nbsp;</span><span class="RktVar">e-a1</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e-an</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p>A <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> expression has any number of clauses <span class="RktPn">[</span><span class="RktVar">e-pi</span><span class="stt"> </span><span class="RktVar">e-ai</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktSym">...</span>, followed by an &ldquo;else&rdquo; clause <span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVar">en</span><span class="RktPn">]</span>.  For
the purposes of this assignment, we will assume every <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>
expression ends in an <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span> clause, even though this is not
true in general for Racket.  The parser should reject any
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>-expression that does not end in <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span>.</p><p>The meaning of a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> expression is computed by evaluating
each expression <span class="RktVar">e-pi</span> in order until the first one that is
true is found, in which case, the corresponding expression
<span class="RktVar">e-ai</span> is evaluated and its value is the value of the
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> expression.  If no such <span class="RktVar">e-pi</span> exists, the
expression <span class="RktVar">e-an</span>&rsquo;s value is the value of the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>.</p><p>Your task is to extend Dupe with this (restricted) form of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>.</p><p>To do this, you should:</p><ul><li><p>Study <span class="stt">ast.rkt</span> to add appropriate AST nodes.</p></li><li><p>Extend <span class="stt">parse.rkt</span> to parse such expressions. (See <a href="#%28part._a3-._parse%29" data-pltdoc="x">A Leg Up on Parsing</a> for guidance.)</p></li><li><p>Update <span class="stt">interp-prim.rkt</span> and <span class="stt">interp.rkt</span> to correctly interpret <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span> expressions.</p></li><li><p>Make examples of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>-expressions and potential translations of them
to assembly.</p></li><li><p>Update <span class="stt">compile.rkt</span> to correctly compile <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>
expressions based on your examples.</p></li><li><p>Check your implementation by running the tests in <span class="stt">test/all.rkt</span>.</p></li></ul><h5><a name="(part._a3-._.Dispatching_.Evaluation_with_.Case)"></a>Dispatching Evaluation with Case</h5><p>Racket has a mechanism for dispatching between a number of possible
expressions based on a value, much like C&rsquo;s notion of a
<span class="stt">switch</span>-statement.  This is the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>-expression, which we
could add to our language with the following syntax:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktVar">ev</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVar">d1</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVar">en</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr></table></blockquote><p>The meaning of a <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span> expression is computed by evaluating
the expression <span class="RktVar">ev</span> and then proceeding in order through each
clause until one is found that has a datum <span class="RktVar">di</span> equal to
<span class="RktVar">ev</span>&rsquo;s value.  Once such a clause is found, the corresponding
expression <span class="RktVar">ei</span> is evaluated and its value is the value of the
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span> expression.  If no such clause exists, expression
<span class="RktVar">en</span> is evaluated and its value is the value of the
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span> expression.</p><p>Note that each clause consists of a parenthesized list of
<span class="emph">datums</span>, which in the setting of Dupe means either integer or
boolean literals.</p><p>Your task is to extend Dupe with this (restricted) form of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>.</p><p>To do this, you should:</p><ul><li><p>Study <span class="stt">ast.rkt</span> to add appropriate AST nodes.</p></li><li><p>Extend <span class="stt">parse.rkt</span> to parse such expressions. (See <a href="#%28part._a3-._parse%29" data-pltdoc="x">A Leg Up on Parsing</a> for guidance.)</p></li><li><p>Update <span class="stt">interp-prim.rkt</span> and <span class="stt">interp.rkt</span> to correctly interpret <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span> expressions.</p></li><li><p>Make examples of <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>-expressions and potential translations of them
to assembly.</p></li><li><p>Update <span class="stt">compile.rkt</span> to correctly compile <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span> expressions based on your examples.</p></li><li><p>Check your implementation by running the tests in <span class="stt">test/all.rkt</span>.</p></li></ul><h5><a name="(part._a3-._parse)"></a>A Leg Up on Parsing</h5><p>In the past, designing the AST type and structure definitions has
given students some grief.  Getting stuck at this point means you
can&rsquo;t make any progress on the assignment and making a mistake at this
level can cause real trouble down the line for your compiler.</p><p>For that reason, let us give you a strong hint for a potential design
of the ASTs and examples of how parsing could work.  You are not
required to follow this design, but you certainly may.</p><p>Here&rsquo;s a potential AST definition for the added primitives,
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span>, and <span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">type Expr =</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">...</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">| (Cond [Listof CondClause] Expr)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">| (Case Expr [Listof CaseClause] Expr)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">type CondClause = (Clause Expr Expr)</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">type CaseClause = (Clause [Listof Datum] Expr)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">type Datum = Integer | Boolean</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">type Op = </span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">...</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">| </span><span class="RktCmt">'</span><span class="RktCmt">abs | </span><span class="RktCmt">'</span><span class="RktCmt">- | </span><span class="RktCmt">'</span><span class="RktCmt">not</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Cond</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">cs</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:prefab</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Case</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">cs</span><span class="hspace">&nbsp;</span><span class="RktSym">el</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:prefab</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define-struct.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._struct%29%29" class="RktStxLink" data-pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Clause</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:prefab</span><span class="RktPn">)</span></td></tr></table></blockquote><p>There are two new kinds of expression constructors: <span class="RktSym">Cond</span> and
<span class="RktSym">Case</span>.  A <span class="RktSym">Cond</span> AST node contains a list of
cond-clauses and expression, which the expression of the <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span>
clause.  Each cond-clause is represented by a <span class="RktSym">Clause</span>
structure containing two expressions: the right-hand-side of the
clause which is used to determine whether the left-hand-side is
evaluated, and the left-hand-side expression.</p><p>The <span class="RktSym">Case</span> AST node contains three things: an expression that
is the subject of the dispatch (i.e. the expression that is evaluated
to determine which clause should be taken), a list of case-clauses
(not to be confused with cond-clauses), and an <span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span>-clause
expression.  Each case-clause, like a cond-clause, consists of two
things.  Hence we re-use the <span class="RktSym">Clause</span> structure, but with
different types of elements.  The first element is a list of
<span class="emph">datums</span>, each being either an integer or a boolean.</p><p>Now, we won&rsquo;t go so far as to <span class="emph">give</span> you the code for
<span class="RktSym">parse</span>, but we can give you some examples:</p><ul><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._abs%29%29" class="RktValLink" data-pltdoc="x">abs</a></span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Prim1</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">abs</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Prim1</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">not</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Bool</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Cond</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Cond</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Prim1</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">not</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Bool</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktVal">7</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as
<span class="RktPn">(</span><span class="RktSym">Cond</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Prim1</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">not</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Bool</span><span class="stt"> </span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">7</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Case</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Prim1</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">add1</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Case</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>,</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">6</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Case</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">6</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>, and</p></li><li><p><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">6</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktVal">#t</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">7</span><span class="RktPn">]</span><span class="stt"> </span><span class="RktPn">[</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">]</span><span class="RktPn">)</span> parses as <span class="RktPn">(</span><span class="RktSym">Case</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">4</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">4</span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">6</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Clause</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="stt"> </span><span class="RktVal">#t</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">7</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">Int</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>.</p></li></ul><h5><a name="(part._a3-._.Testing)"></a>Testing</h5><p>You can test your code in several ways:</p><ul><li><p>Using the command line <span class="stt">raco test .</span> from
the directory containing the repository to test everything.</p></li><li><p>Using the command line <span class="stt">raco test &lt;file&gt;</span> to
test only <span class="stt">&lt;file&gt;</span>.</p></li></ul><p>Note that only a small number of tests are given to you, so you should
write additional test cases.</p><h5><a name="(part._a3-._.Submitting)"></a>Submitting</h5><p>You should submit on Gradescope. You should submit a zip file with
exactly the same structure that the stub contains (a dupe-plus
folder). We will only use the <span class="stt">parse.rkt</span>, <span class="stt">ast.rkt</span>,
<span class="stt">compile.rkt</span>, <span class="stt">interp.rkt</span>, and <span class="stt">interp-prim.rkt</span> files for
grading, so make sure all your work is contained there!</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="Assignment_2.html" title="backward to &quot;Assignment 2: Racket Primer&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Assignment_4.html" title="forward to &quot;Assignment 4: Let there be (Many) Variables&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>